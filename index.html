<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CreatorsBusiness support — Password Change (Demo)</title>
<style>
  :root{--bg:#f6f8fb;--card:#fff;--accent:#0b5cff;--danger:#b00020;--muted:#555;}
  body{font-family:Inter,system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin:0;background:var(--bg);color:#0b1a2b;}
  .container{max-width:740px;margin:36px auto;padding:20px;}
  header{display:flex;align-items:center;gap:14px;}
  h1{margin:0;font-size:1.25rem;}
  .sim-note{background:#fff3f3;border-left:4px solid var(--danger);padding:12px;border-radius:8px;margin:14px 0;color:var(--danger);font-weight:700;}
  .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(12,20,40,0.06);}
  label{display:block;margin-top:12px;font-weight:600;}
  input[type="password"]{width:100%;padding:10px;border-radius:8px;border:1px solid #dfe7f5;font-size:1rem;}
  .help{font-size:0.9rem;color:var(--muted);margin-top:8px;}
  .actions{display:flex;gap:10px;margin-top:16px;}
  button{padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:700;cursor:pointer;}
  .btn-secondary{background:#fff;border:1px solid #dfe7f5;color:#0b1a2b;}
  .notice{margin-top:12px;font-size:0.9rem;color:var(--muted);}
  .error{color:var(--danger);font-weight:700;margin-top:8px;}
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.5);z-index:50;}
  .modal-card{background:#fff;padding:18px;border-radius:10px;max-width:640px;width:92%;}
  @media (max-width:640px){ .container{padding:12px} }
</style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <h1>creatorsbusiness support</h1>
    </header>

    <div class="sim-note" aria-live="polite">
      <span>SIMULATION / DEMO — Do not enter real passwords. This page is for training/demo purposes only.</span>
    </div>

    <div class="card" aria-labelledby="formTitle">
      <h2 id="formTitle" style="margin:0 0 8px 0;font-size:1.05rem;">Change password (demo)</h2>

      <form id="pwForm" autocomplete="off" novalidate>
        <label for="oldPw">Old password</label>
        <input id="oldPw" name="oldPassword" type="password" placeholder="Enter old password (demo only)" autocomplete="off" required />

        <label for="newPw">New password</label>
        <input id="newPw" name="newPassword" type="password" placeholder="Enter new password" autocomplete="new-password" required />

        <label for="confirmPw">Confirm new password</label>
        <input id="confirmPw" name="confirmPassword" type="password" placeholder="Re-type new password" autocomplete="new-password" required />

        <div class="help">Tip: use a unique password and enable multi-factor authentication (MFA) in real scenarios.</div>

        <div class="actions">
          <button id="submitBtn" type="button">Submit (Demo)</button>
          <button id="resetBtn" type="button" class="btn-secondary">Clear</button>
        </div>

        <div id="error" class="error" role="alert" aria-live="assertive" style="display:none"></div>
        <div class="notice">This demo never transmits or stores your password. Values are removed immediately after submission.</div>
      </form>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-card">
      <h3 id="modalTitle">Demo submission received</h3>
      <p>This was a training/demo page. We did not send or save your passwords. Below are the checks performed:</p>
      <ul>
        <li>New password matched confirmation.</li>
        <li>Basic strength check (length & variety) performed client-side only.</li>
      </ul>
      <p style="font-weight:700;color:#0b1a2b">If this had been real, next steps: log in via the official site, enable MFA, and change passwords there.</p>
      <div style="display:flex;gap:10px;margin-top:12px;">
        <button id="closeModal" class="btn-secondary" style="border:0;background:#0b5cff;color:#fff;padding:10px 12px;border-radius:8px;">Acknowledge</button>
      </div>
    </div>
  </div>

<script>
(function(){
  const oldPw = document.getElementById('oldPw');
  const newPw = document.getElementById('newPw');
  const confirmPw = document.getElementById('confirmPw');
  const submitBtn = document.getElementById('submitBtn');
  const resetBtn = document.getElementById('resetBtn');
  const errorDiv = document.getElementById('error');
  const modal = document.getElementById('modal');
  const closeModal = document.getElementById('closeModal');

  // Simple client-side password strength check
  function strengthCheck(pw){
    if(!pw) return {ok:false,msg:'Password cannot be empty.'};
    if(pw.length < 8) return {ok:false,msg:'Password should be at least 8 characters.'};
    const hasUpper = /[A-Z]/.test(pw);
    const hasLower = /[a-z]/.test(pw);
    const hasDigit = /[0-9]/.test(pw);
    const hasSymbol = /[^A-Za-z0-9]/.test(pw);
    const score = [hasUpper, hasLower, hasDigit, hasSymbol].filter(Boolean).length;
    if(score < 2) return {ok:false,msg:'Use a mix of letters, numbers, and symbols.'};
    return {ok:true,msg:'Looks good (demo check).'};
  }

  function clearInputs(){
    // Immediately clear fields to avoid accidental storage
    oldPw.value = '';
    newPw.value = '';
    confirmPw.value = '';
  }

  submitBtn.addEventListener('click', function(){
    errorDiv.style.display = 'none';
    const oldVal = oldPw.value || '';
    const newVal = newPw.value || '';
    const confVal = confirmPw.value || '';

    // Validation
    if(!oldVal || !newVal || !confVal){
      errorDiv.textContent = 'All fields are required (demo).';
      errorDiv.style.display = 'block';
      return;
    }
    if(newVal !== confVal){
      errorDiv.textContent = 'New password and confirm password do not match.';
      errorDiv.style.display = 'block';
      return;
    }
    const strength = strengthCheck(newVal);
    if(!strength.ok){
      errorDiv.textContent = strength.msg;
      errorDiv.style.display = 'block';
      return;
    }

    // For demo: record only that the form was submitted (no passwords).
    try {
      localStorage.setItem('demo-pw-change', JSON.stringify({ts: Date.now(), submitted:true}));
    } catch(e){ /* ignore storage errors */ }

    // Immediately clear actual values to avoid any accidental retention
    clearInputs();

    // Show modal with training text
    modal.style.display = 'flex';
    console.info('[DEMO] password-change form submitted — values cleared; nothing transmitted.');
  });

  resetBtn.addEventListener('click', function(){
    clearInputs();
    errorDiv.style.display = 'none';
  });

  closeModal.addEventListener('click', function(){
    modal.style.display = 'none';
    alert('Demo complete. Remember: never enter real passwords on demo pages.');
  });

  // Accessibility: close modal on Escape
  document.addEventListener('keydown', function(e){
    if(e.key === 'Escape' && modal.style.display === 'flex') modal.style.display = 'none';
  });

})();
</script>
</body>
</html>
